(function(e){var n={};function t(r){if(n[r]){return n[r].exports}var o=n[r]={i:r,l:false,exports:{}};e[r].call(o.exports,o,o.exports,t);o.l=true;return o.exports}t.m=e;t.c=n;t.d=function(e,n,r){if(!t.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:r})}};t.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};t.t=function(e,n){if(n&1)e=t(e);if(n&8)return e;if(n&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);t.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(n&2&&typeof e!="string")for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r};t.n=function(e){var n=e&&e.__esModule?function n(){return e["default"]}:function n(){return e};t.d(n,"a",n);return n};t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};t.p="/";return t(t.s=12)})({12:function(e,n,t){t(13);t(19);t(24);t(26);t(39);t(41);e.exports=t(43)},13:function(e,n,t){var r=t(14);var o=t(15);var i=o;if(typeof i["SquareWebPayments"]==="undefined")i["SquareWebPayments"]=r;e.exports=r},14:function(e,n,t){"use strict";t.r(n);t.d(n,"INIT_ERROR_MESSAGE",(function(){return i}));t.d(n,"getSquareConfig",(function(){return d}));t.d(n,"useSquareWebPaymentsSdk",(function(){return v}));t.d(n,"isUsingSquareWebPayments",(function(){return p}));t.d(n,"init",(function(){return y}));t.d(n,"tokenizeCard",(function(){return h}));t.d(n,"tokenizeAndVerify",(function(){return b}));t.d(n,"tokenize",(function(){return w}));t.d(n,"verifyCard",(function(){return m}));var r=undefined&&undefined.__awaiter||function(e,n,t,r){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r["throw"](e))}catch(e){i(e)}}function c(e){e.done?t(e.value):o(e.value).then(u,a)}c((r=r.apply(e,n||[])).next())}))};var o=undefined&&undefined.__generator||function(e,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(n){return c([e,n])}}function c(u){if(r)throw new TypeError("Generator is already executing.");while(t)try{if(r=1,o&&(i=u[0]&2?o["return"]:u[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;if(o=0,i)u=[u[0]&2,i.value];switch(u[0]){case 0:case 1:i=u;break;case 4:t.label++;return{value:u[1],done:false};case 5:t.label++;o=u[1];u=[0];continue;case 7:u=t.ops.pop();t.trys.pop();continue;default:if(!(i=t.trys,i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1];i=u;break}if(i&&t.label<i[2]){t.label=i[2];t.ops.push(u);break}if(i[2])t.ops.pop();t.trys.pop();continue}u=n.call(e,t)}catch(e){u=[6,e];o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var i="Unable to process payments online. The business must reconnect to Square to process payments.";var u=new Map([["production","https://web.squarecdn.com/v1/square.js"],["sandbox","https://sandbox.web.squarecdn.com/v1/square.js"]]);var a=false;var c=function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,3,,4]);return[4,e.card()];case 1:t=o.sent();return[4,t.attach(n)];case 2:o.sent();return[2,t];case 3:r=o.sent();console.error({message:"Error initializing card",error:r});throw r;case 4:return[2]}}))}))};var s=function(e){return r(void 0,void 0,void 0,(function(){var n,t,r,i;var u;return o(this,(function(o){switch(o.label){case 0:if(!window.Square){throw new Error("Square Web Payments ailed to load properly")}n=d(),t=n.squareApplicationId,r=n.squareLocationId;if(typeof t!=="string"||typeof r!=="string"){throw new Error("Invalid squareApplicationId or squareLocationId")}i=window.Square.payments(t,r);u={};return[4,c(i,e)];case 1:return[2,(u.paymentMethod=o.sent(),u.payments=i,u)]}}))}))};var f=function(e){return e.tagName.toLowerCase()==="input"};var l=function(e){var n=document.getElementById(e);if(!n||!f(n)){return null}return n.value.length>0?n.value:null};var d=function(){var e,n,t;return{squareWebPaymentsSdkVersion:(e=l("squareWebPaymentsSdkVersion"))!==null&&e!==void 0?e:window.squareWebPaymentsSdkVersion,squareLocationId:(n=l("squareLocationId"))!==null&&n!==void 0?n:window.squareLocationId,squareApplicationId:(t=l("squareApplicationId"))!==null&&t!==void 0?t:window.squareApplicationId}};var v=function(){var e=d(),n=e.squareLocationId,t=e.squareApplicationId,r=e.squareWebPaymentsSdkVersion;return Boolean(typeof n==="string"&&typeof t==="string"&&typeof r==="string"&&u.has(r))};var p=function(){return a};var y=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,new Promise((function(n,t){try{if(!v()){return t(null)}var i=d().squareWebPaymentsSdkVersion;var c=u.get(String(i));if(typeof c==="undefined"){return t("Unable to determine which Square Web Payments SDK version to load")}$.getScript(c,(function(){return r(void 0,void 0,void 0,(function(){var t,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,s(e)];case 1:t=o.sent(),r=t.paymentMethod,i=t.payments;a=true;return[2,n({paymentMethod:r,payments:i})]}}))}))}))}catch(e){t(e)}}))]}))}))};var h=function(e){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(t){switch(t.label){case 0:return[4,e.tokenize()];case 1:n=t.sent();if(n.status!=="OK"){throw new Error("Failed to tokenize card")}if(typeof n.token==="undefined"){throw new Error("Unable to retrieve token for card")}return[2,n.token]}}))}))};var b=function(e,n,t,i){return r(void 0,void 0,void 0,(function(){var r,u,a,c,s,f,l;var d,v,p,y;return o(this,(function(o){switch(o.label){case 0:r={storeVerificationToken:null,storeNonce:null,chargeVerificationToken:null,chargeNonce:null};if(!i)return[3,5];o.label=1;case 1:o.trys.push([1,4,,5]);u=r;return[4,h(n)];case 2:u.storeNonce=o.sent();a=r;return[4,e.verifyBuyer(r.storeNonce,i)];case 3:a.storeVerificationToken=(v=(d=o.sent())===null||d===void 0?void 0:d.token)!==null&&v!==void 0?v:null;return[3,5];case 4:c=o.sent();throw new Error(c.message);case 5:if(!t)return[3,10];o.label=6;case 6:o.trys.push([6,9,,10]);s=r;return[4,h(n)];case 7:s.chargeNonce=o.sent();f=r;return[4,e.verifyBuyer(r.chargeNonce,t)];case 8:f.chargeVerificationToken=(y=(p=o.sent())===null||p===void 0?void 0:p.token)!==null&&y!==void 0?y:null;return[3,10];case 9:l=o.sent();throw new Error(l.message);case 10:return[2,r]}}))}))};var w=function(e){return r(void 0,void 0,void 0,(function(){var n,t;return o(this,(function(r){switch(r.label){case 0:return[4,h(e)];case 1:n=r.sent();return[4,h(e)];case 2:t=r.sent();return[2,{chargeNonce:t,storeNonce:n}]}}))}))};var m=function(e,n,t){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,e.verifyBuyer(n,t)];case 1:return[2,(r=o.sent())===null||r===void 0?void 0:r.token]}}))}))}},15:function(e,n,t){"use strict";(function(n){e.exports=function(){if(typeof globalThis==="object"){return globalThis}var e;try{e=this||new Function("return this")()}catch(e){if(typeof window==="object"){return window}if(typeof self==="object"){return self}if(typeof n!=="undefined"){return n}}return e}()}).call(this,t(16))},16:function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){if(typeof window==="object")t=window}e.exports=t},19:function(e,n){},24:function(e,n){},26:function(e,n){},39:function(e,n){},41:function(e,n){},43:function(e,n){}});